<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SNARC Explorer</title>

  <!-- Site styles -->
  <link rel="stylesheet" href="assets/styles.css">


  <!-- ✅ Leaflet for interactive maps (integrity removed to avoid SRI blocking) -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    crossorigin="anonymous"
  />
  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    crossorigin="anonymous"
  ></script>
</head>

<body>
  
<header class="site-header">
  <div class="mobile-top">
    <a href="#/" class="brand">
      <img src="assets/Logo.png" alt="SNARC Explorer" class="brand-logo">
    </a>

    <div class="lang-switch">
      <button data-lang="en" class="active">EN</button>
      <button data-lang="cy">CY</button>
    </div>
  </div>

  <form id="search-form" role="search" autocomplete="off">
    <input id="search-input" type="search" placeholder="Search…" />
    <div id="search-suggestions" class="suggestions"></div>
  </form>
</header>


<main id="homeContainer"></main>
  <main id="app" aria-live="polite"></main>
  <footer>
    <small>Static client on GitHub Pages · Data from SNARC Wikibase</small>
  </footer>

<!-- CORE SYSTEM FIRST -->
<script src="js/config.js"></script>
<script src="js/properties.js"></script>
<script src="js/utils.js"></script>           <!-- provides getCurrentLang -->
<script src="js/api.js"></script>

<!-- FACETS NEXT (needs utils, not before them) -->
<script src="js/facets.js"></script>         <!-- must load AFTER utils.js -->

<!-- UI / RENDERING MODULES -->
<script src="js/icons.js"></script>
<script src="js/templates.js"></script>
<!-- MAP LIBRARIES (must be before mapExplorer.js) -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>

<!-- OPTIONAL (recommended) for same-coordinate spider plots -->
<script src="https://unpkg.com/overlapping-marker-spiderfier-leaflet/oms.min.js"></script>
  
<script src="js/mapExplorer.js"></script>
<script src="https://d3js.org/d3.v7.min.js"></script>


<!-- SEARCH & FEATURE MODULES -->
<script src="js/born-on-this-day.js"></script>
<script src="js/home-image-carousel.js"></script>
<script src="js/advanced-person-search.js"></script>  <!-- must load BEFORE home.js -->

<!-- PAGE CONTROLLERS -->
<script src="js/home.js"></script>           <!-- calls initAdvancedPersonSearch -->
<script src="js/router.js"></script>
<script src="js/app.js"></script>


</body>
</html>
